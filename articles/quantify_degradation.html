<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="baRulho">
<title>Quantify degradation • baRulho</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Quantify degradation">
<meta property="og:description" content="baRulho">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">baRulho</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/align_test_sounds.html">Synthesize and align test sounds</a>
    <a class="dropdown-item" href="../articles/quantify_degradation.html">Quantify degradation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/maRce10/baRulho/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="quantify_degradation_files/kePrint-0.0.1/kePrint.js"></script><link href="quantify_degradation_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Quantify degradation</h1>
                        <h4 data-toc-skip class="author"><a href="https://marceloarayasalas.weebly.com" class="external-link">Marcelo
Araya-Salas, PhD</a></h4>
            
            <h4 data-toc-skip class="date">2023-11-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/maRce10/baRulho/blob/HEAD/vignettes/quantify_degradation.Rmd" class="external-link"><code>vignettes/quantify_degradation.Rmd</code></a></small>
      <div class="d-none name"><code>quantify_degradation.Rmd</code></div>
    </div>

    
    
<!-- <script> -->
<!--    $(document).ready(function() { -->
<!--      $head = $('#header'); -->
<!--      $head.prepend('<img src=\"logo.png\"/>') -->
<!--    }); -->
<!-- </script> -->
<!-- &nbsp;  -->
<!-- <center>![warbleR logo](logo.png)</center> -->

<p> </p>
<p><img src="baRulho_sticker.png" alt="baRulho logo" align="right" width="25%" height="25%"></p>
<p>There are a few important things to keep in mind about functions for
quantifying degradation:</p>
<ul>
<li>The package currently assumes that all recordings have been made
with the same equipment and recording volume. This will be modified in
future versions to allow for amplitude calibration of recordings.</li>
<li>Wave envelope and frequency spectrum calculations are made after
applying a bandpass filter within the frequency range of the reference
sound (‘bottom.freq’ and ‘top.freq’ columns)</li>
<li>The package offers two methods to compare sounds to the reference:
<ol style="list-style-type: decimal">
<li>Compare all sounds with the counterpart that was recorded at the
closest distance to source (e.g. compare a sound recorded at 5m, 10m and
15m with its counterpart recorded at 1m). This is the default
method.</li>
<li>Compare all sounds with the counterpart recorded at the distance
immediately before (e.g. a sound recorded at 10m compared with the one
recorded at 5m, then sound recorded at 15m compared with the one
recorded at 10m and so on).</li>
</ol>
</li>
<li>The package assumes all sound files have the same sampling
rate.</li>
</ul>
<div class="section level3">
<h3 id="required-data-structure">Required data structure<a class="anchor" aria-label="anchor" href="#required-data-structure"></a>
</h3>
<p>The input data should contain some additional information. <a href="https://marce10.github.io/baRulho/">baRulho</a> comes with an
example <code>extended_selection_table</code> data set that can be used
to understand the required data structure: s</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/maRce10/baRulho" class="external-link">baRulho</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sjmgarnier.github.io/viridis/" class="external-link">viridis</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"test_sounds_est"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
ambient
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:9
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:7
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
ambient
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:9
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:7
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
ambient
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:9
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:7
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
ambient
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:9
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:7
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
ambient
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:9
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
freq:7
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Transmission experiments tend to follow a common experimental design
in which model sounds are re-recorded at increasing distance within a
transect. The structure of the data must indicate the transect and
distance within that transect for each sound. Hence, besides the basic
acoustic annotation information (e.g. sound file, time, frequency) the
table also includes the following columns:</p>
<ul>
<li><strong>‘sound.id’: ID of sounds used to identify same sounds at
different distances and transects</strong></li>
<li><strong>‘distance’: refers to the distance from the source at which
each sound was recorded</strong></li>
<li>
<strong>‘transect’ identify sounds (rows) from the same
transect</strong>. Each distance is replicated once within a
transect.</li>
</ul>
<p>Importantly, each sound ID can have only one sample at each
distance/transect combination. The combined information from these
columns is used to identify the reference sounds for each test sound.
The function <code><a href="../reference/set_reference_sounds.html">set_reference_sounds()</a></code> does exactly that.
There are two possible experimental designs when defining reference
sounds (which is controlled by the argument ‘method’ in
<code><a href="../reference/set_reference_sounds.html">set_reference_sounds()</a></code>):</p>
<ul>
<li>1: compare sounds (by ‘sound.id’) with their counterpart that was
recorded at the closest distance to source (e.g. compare a sound
recorded at 5m, 10m and 15m with its counterpart recorded at 1m). This
is the default method. For this design users can have a single example
for the shortest distance to be used as reference (for instance at 1m as
is the case in most studies) The function will try to use references
from the same transect. However, if there is another test sound from the
same ‘sound.id’ at a shorter distance in other transects, it will be
used as reference instead.</li>
<li>2: compare all sounds with their counterpart recorded at the
distance immediately before within a transect (e.g. a sound recorded at
10m compared with the same sound recorded at 5m, then sound recorded at
15m compared with same sound recorded at 10m and so on).</li>
</ul>
<p>Also note that some selections are labeled as “ambient” in the
‘sound.id’. These selections refer to ambient (background) noise.
Ambient noise can be used by some functions to correct for amplitude
differences due to non-target sounds.</p>
<p>In this example data there are 4 recordings at increasing distances:
1m, 5m, 10m and 15m:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># count selection per recordings</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">$</span><span class="va">sound.files</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "10m_closed.wav" "10m_open.wav"   "1m_open.wav"    "30m_closed.wav"</span></span>
<span><span class="co">## [5] "30m_open.wav"</span></span></code></pre>
<p>The data contains selections for 5 sounds as well as 1 ambient noise
selections at each distance/recording:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">$</span><span class="va">sound.id</span>, <span class="va">test_sounds_est</span><span class="op">$</span><span class="va">distance</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
1
</th>
<th style="text-align:center;">
10
</th>
<th style="text-align:center;">
30
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
ambient
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
freq:1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
freq:4
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
freq:7
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
freq:9
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="measuring-degradation">Measuring degradation<a class="anchor" aria-label="anchor" href="#measuring-degradation"></a>
</h3>
<div class="section level4">
<h4 id="data-format">Data format<a class="anchor" aria-label="anchor" href="#data-format"></a>
</h4>
<p>The functions <code><a href="../reference/set_reference_sounds.html">set_reference_sounds()</a></code> can be used to
determined, for each row in the input data, which sounds would be used
as references. The function can do this using any of the two methods
described above:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add reference column</span></span>
<span><span class="va">test_sounds_est</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_reference_sounds.html">set_reference_sounds</a></span><span class="op">(</span><span class="va">test_sounds_est</span>, method <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print</span></span>
<span><span class="va">test_sounds_est</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-2
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-3
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-4
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-5
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-2
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-3
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-4
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-5
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-2
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-3
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-4
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-5
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-2
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-3
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-4
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1m_open.wav-5
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>The function adds the column ‘reference’ which is then used by
downstream functions plotting or measuring degradation. References are
indicated as a the combination of the ‘sound.files’ and ‘selec’ column.
For instance, ‘10m.wav-1’ indicates that the row in which the ‘selec’
column is ‘1’ and the sound file is ‘10m.wav’ should be used as
reference. The function also checks that the information ‘X’ is in the
right format so it wont produce errors in downstream analysis (see ‘X’
argument description for details on format). The function will ignore
rows with ‘sound.id’ ‘ambient’, ‘start_marker’ and ‘end_marker’.</p>
</div>
<div class="section level4">
<h4 id="visual-inspection">Visual inspection<a class="anchor" aria-label="anchor" href="#visual-inspection"></a>
</h4>
<p>The function <code><a href="../reference/plot_degradation.html">plot_degradation()</a></code> aims to simplify the
visual inspection of sound degradation by producing multipanel figures
(saved as JPEG files in ‘dest.path’) containing visualizations of each
test sound and its reference. Sounds are sorted by distance (columns)
and transect. Visualizations include spectrograms, amplitude envelopes
and power spectra (the last 2 are optional):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set path where images will be saved (will be used by all image creating</span></span>
<span><span class="co"># function)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dest.path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># sort to order panels</span></span>
<span><span class="va">test_sounds_est</span> <span class="op">&lt;-</span> <span class="va">test_sounds_est</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">$</span><span class="va">sound.id</span>, <span class="va">test_sounds_est</span><span class="op">$</span><span class="va">transect</span>,</span>
<span>    decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># create plots</span></span>
<span><span class="fu"><a href="../reference/plot_degradation.html">plot_degradation</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<center>
<img src="plot_degradation_p1.jpeg" alt="degradation plot">
</center>
<p> </p>
<p>Each row includes all the copies of a sound id for a given transect
(the row label includes the sound id in the first line and transect in
the second line), also including its reference if it comes from another
transect. Ambient noise annotations (sound.id ‘ambient’) are excluded.
Before This is one the plots generated using the example data.</p>
</div>
<div class="section level4">
<h4 id="blur-ratio">Blur ratio<a class="anchor" aria-label="anchor" href="#blur-ratio"></a>
</h4>
<p>Blur ratio quantifies the degradation of sound as a function of the
distortion of the amplitude envelope (time domain) while excluding
changes due to energy attenuation. This measure was first described by
Dabelsteen et al. (1993). Blur ratio is measured as the mismatch between
amplitude envelopes (expressed as probability density functions) of the
reference sound and the re-recorded sound. Low values indicate low
degradation of sounds. The function <code><a href="../reference/blur_ratio.html">blur_ratio()</a></code> measures
the blur ratio of sounds in which a reference playback has been
re-recorded at different distances. The function compares each sound to
the corresponding reference sound within the supplied frequency range
(e.g. bandpass) of the reference sound (‘bottom.freq’ and ‘top.freq’
columns in ‘X’). The ‘sound.id’ column must be used to tell the function
to only compare sounds belonging to the same category (e.g. song-types).
All sound files (or wave objects in the extended selection table) must
have the same sampling rate so the length of envelopes is comparable.
Blur ratio can be calculated as follows:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run blur ratio</span></span>
<span><span class="va">br</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/blur_ratio.html">blur_ratio</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># see output</span></span>
<span><span class="va">br</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
blur.ratio
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1075226
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0958649
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0566597
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0709498
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1344266
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1930450
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1207314
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0767771
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1504670
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0847076
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0849068
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1923770
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0919376
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1345533
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1254130
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0709116
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>The output data frame is simply the input data with an additional
column (‘blur.ratio’) with the blur ratio values. Note that
<code>NAs</code> are returned for sounds used as reference and ‘ambient’
noise selections.</p>
<p>The function <code><a href="../reference/plot_blur_ratio.html">plot_blur_ratio()</a></code> can be used to generate
image files (in ‘jpeg’ format) for each comparison showing spectrograms
of both sounds and the overlaid amplitude envelopes (as probability mass
functions (PMF)).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set path in which to save images</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dest.path <span class="op">=</span> <span class="va">td</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot blur ratio</span></span>
<span><span class="fu"><a href="../reference/plot_blur_ratio.html">plot_blur_ratio</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<p>Output image files (in the working directory) look like these
ones:</p>
<center>
<img src="blur_ratio_example.gif" alt="Blur ratio visualization" width="500" height="400">
</center>
<p> </p>
<p>The image shows the spectrogram for the reference and re-recorded
sound, as well as the envelopes of both sounds overlaid in a single
graph. Colors indicate to which sound spectrograms and envelopes belong
to. The blur ratio value is also displayed.</p>
<p>The function can also return the amplitude spectrum contours when the
argument <code>envelopes = TRUE</code>. The contours can be directly
input into ggplot to visualize amplitude envelopes, and how they vary
with distance and across sound types (and ambient noise if
included):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get envelopes</span></span>
<span><span class="va">br</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/blur_ratio.html">blur_ratio</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span>, envelopes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">envs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">br</span><span class="op">)</span><span class="op">$</span><span class="va">envelopes</span></span>
<span></span>
<span><span class="co"># make distance a factor for plotting</span></span>
<span><span class="va">envs</span><span class="op">$</span><span class="va">distance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">envs</span><span class="op">$</span><span class="va">distance</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">envs</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">amp</span>, col <span class="op">=</span> <span class="va">distance</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">sound.id</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">viridis</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Time (s)"</span>, y <span class="op">=</span> <span class="st">"Amplitude (PMF)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantify_degradation_files/figure-html/unnamed-chunk-16-1.png" width="700" style="display: block; margin: auto;"></p>
<p>The <code>env.smooth</code> argument could change envelope shapes and
related measurements. The following code sets
<code>env.smooth = 800</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get envelopes</span></span>
<span><span class="va">br</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/blur_ratio.html">blur_ratio</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span>, envelopes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">envs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">br</span><span class="op">)</span><span class="op">$</span><span class="va">envelopes</span></span>
<span></span>
<span><span class="va">envs</span><span class="op">$</span><span class="va">distance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">envs</span><span class="op">$</span><span class="va">distance</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">envs</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">amp</span>, col <span class="op">=</span> <span class="va">distance</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">sound.id</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Time (s)"</span>, y <span class="op">=</span> <span class="st">"Amplitude (PMF)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantify_degradation_files/figure-html/unnamed-chunk-17-1.png" width="700" style="display: block; margin: auto;"></p>
<p> </p>
</div>
<div class="section level4">
<h4 id="spectrum-blur-ratio">Spectrum blur ratio<a class="anchor" aria-label="anchor" href="#spectrum-blur-ratio"></a>
</h4>
<p>Spectrum blur ratio (measured by <code><a href="../reference/spectrum_blur_ratio.html">spectrum_blur_ratio()</a></code>)
quantifies the degradation of sound as a function of the change in sound
energy across the frequency domain, analogous to the blur ratio
described above for the time domain (and implemented in
<code><a href="../reference/blur_ratio.html">blur_ratio()</a></code>). Low values also indicate low degradation of
sounds. Spectrum blur ratio is measured as the mismatch between power
spectra (expressed as probability density functions) of the reference
sound and the re-recorded sound. It works in the same way than
<code><a href="../reference/blur_ratio.html">blur_ratio()</a></code>, comparing each sound to the corresponding
reference sound, and the output and images are alike as well.</p>
<p>Spectrum blur ratio can be calculated as follows:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run Spectrum blur ratio</span></span>
<span><span class="va">sbr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spectrum_blur_ratio.html">spectrum_blur_ratio</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># see output</span></span>
<span><span class="va">sbr</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
spectrum.blur.ratio
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1049022
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1027621
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0682672
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0760921
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1809072
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.2204311
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.2077196
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0858642
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1929705
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1567549
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1292459
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.2013668
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0710742
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1366660
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.1617808
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.0839942
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>As in <code><a href="../reference/blur_ratio.html">blur_ratio()</a></code>, <code><a href="../reference/spectrum_blur_ratio.html">spectrum_blur_ratio()</a></code>
can also return the amplitude spectrum contours with the argument
<code>spectra = TRUE</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sbr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spectrum_blur_ratio.html">spectrum_blur_ratio</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span>, spectra <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">spctr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">sbr</span><span class="op">)</span><span class="op">$</span><span class="va">spectra</span></span>
<span></span>
<span><span class="va">spctr</span><span class="op">$</span><span class="va">distance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">spctr</span><span class="op">$</span><span class="va">distance</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">spctr</span><span class="op">[</span><span class="va">spctr</span><span class="op">$</span><span class="va">freq</span> <span class="op">&gt;</span> <span class="fl">0.3</span>, <span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">amp</span>, x <span class="op">=</span> <span class="va">freq</span>, col <span class="op">=</span> <span class="va">distance</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">sound.id</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Frequency (kHz)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Amplitude (PMF)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantify_degradation_files/figure-html/unnamed-chunk-23-1.png" width="700" style="display: block; margin: auto;"></p>
<p> </p>
</div>
<div class="section level4">
<h4 id="excess-attenuation">Excess attenuation<a class="anchor" aria-label="anchor" href="#excess-attenuation"></a>
</h4>
<p>With every doubling of distance, sounds attenuate with a 6 dB loss of
amplitude (Morton, 1975; Marten &amp; Marler, 1977). Any additional loss
of amplitude results in excess attenuation, or energy loss in excess of
that expected to occur with distance via spherical spreading, due to
atmospheric conditions or habitat (Wiley &amp; Richards, 1978). This
degradation metric can be measured using the
<code><a href="../reference/excess_attenuation.html">excess_attenuation()</a></code> function. Low values indicate little
sound attenuation. The function will then compare each sound to the
corresponding reference sound within the frequency range (e.g. bandpass)
of the reference sound (‘bottom.freq’ and ‘top.freq’ columns in ‘X’).
Two methods for calculating excess attenuation are provided (see
‘method’ argument).</p>
<p><code><a href="../reference/excess_attenuation.html">excess_attenuation()</a></code> can be measured like this:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run envelope correlation</span></span>
<span><span class="va">ea</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/excess_attenuation.html">excess_attenuation</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<p>The output, similar to those of other functions, is an extended
selection table with the input data, but also including two new columns
(‘reference’ and ‘excess.attenuation’) with the reference sound and the
excess attenuation:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span><span class="va">ea</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
excess.attenuation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
40.33420
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
24.60129
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
16.96302
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
23.76304
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
33.26993
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
18.02068
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
16.57367
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
23.11389
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
79.96320
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
62.77793
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
27.34741
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
69.70903
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
47.07920
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
41.66868
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
34.47944
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
48.69906
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
</div>
<div class="section level4">
<h4 id="envelope-correlation">Envelope correlation<a class="anchor" aria-label="anchor" href="#envelope-correlation"></a>
</h4>
<p>Amplitude envelope correlation measures the similarity of two sounds
in the time domain. The <code><a href="../reference/envelope_correlation.html">envelope_correlation()</a></code> function
measures the envelope correlation coefficients between reference
playback and re-recorded sounds. Values close to 1 means very similar
amplitude envelopes (i.e. little degradation has occurred). If envelopes
have different lengths (that is when sounds have different lengths)
cross-correlation is applied and the maximum correlation coefficient is
returned. Cross-correlation is achieved by sliding the shortest sound
along the largest one and calculating the correlation at each step. As
in the functions detailed above, ‘sound.id’ column must be used to
instruct the function to only compare sounds that belong to the same
category.</p>
<p><code><a href="../reference/envelope_correlation.html">envelope_correlation()</a></code> can be run as follows:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run envelope correlation</span></span>
<span><span class="va">ec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/envelope_correlation.html">envelope_correlation</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<p>The output is also similar to those of other functions; an extended
selection table similar to input data, but also includes two new columns
(‘reference’ and ‘envelope.correlation’) with the reference sound and
the amplitude envelope correlation coefficients:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span><span class="va">ec</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
envelope.correlation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8735970
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9484230
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9526675
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9497663
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8229577
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.7856178
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8497422
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9459532
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.7607862
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9516635
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8844883
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.6369782
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9153637
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9258736
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8341228
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9589831
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Note that this function doesn’t provide a graphical output. However,
the graphs generated by <code><a href="../reference/blur_ratio.html">blur_ratio()</a></code> can be used to inspect
the envelope shapes and the alignment of sounds.</p>
</div>
<div class="section level4">
<h4 id="spectrum-correlation">Spectrum correlation<a class="anchor" aria-label="anchor" href="#spectrum-correlation"></a>
</h4>
<p>Spectrum correlation measures the similarity of two sounds in the
frequency domain. This is similar to
<code><a href="../reference/envelope_correlation.html">envelope_correlation()</a></code>, but in the frequency domain. Both
sounds are compared within the frequency range of the reference sound
(so both spectra have the same length). Again, values near 1 indicate
identical frequency spectrum (i.e. no degradation).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run spectrum correlation</span></span>
<span><span class="va">sc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spectrum_correlation.html">spectrum_correlation</a></span><span class="op">(</span><span class="va">test_sounds_est</span><span class="op">)</span></span></code></pre></div>
<p>The output is also similar to that of
<code><a href="../reference/envelope_correlation.html">envelope_correlation()</a></code>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span><span class="va">sc</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
spectrum.correlation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9838624
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8898157
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9985589
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9997402
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9915640
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8969106
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9307024
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9926306
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9996172
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.6175148
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.3231770
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9879835
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9975736
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.5402966
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9453447
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9923753
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>As in <code><a href="../reference/envelope_correlation.html">envelope_correlation()</a></code>,
<code><a href="../reference/spectrum_correlation.html">spectrum_correlation()</a></code> doesn’t provide a graphical output.
However, the graphs generated by <code><a href="../reference/spectrum_blur_ratio.html">spectrum_blur_ratio()</a></code> can
also be used to inspect the spectrum shapes and the sound alignment.</p>
</div>
<div class="section level4">
<h4 id="signal-to-noise-ratio">Signal-to-noise ratio<a class="anchor" aria-label="anchor" href="#signal-to-noise-ratio"></a>
</h4>
<p>Signal-to-noise ratio (SNR) quantifies sound amplitude level in
relation to ambient noise as a metric of overall sound attenuation.
Therefore, attenuation refers to the loss of energy as described by
Dabelsteen et al (1993). This method is implemented in the function
<code><a href="../reference/signal_to_noise_ratio.html">signal_to_noise_ratio()</a></code>. The function requires a
measurement of ambient noise, which could either be the noise right
before each sound (<code>noise.ref = "adjacent"</code>) or one or more
ambient noise measurements per recording
(<code>noise.ref = "custom"</code>). For the latter, selections on sound
parameters in which ambient noise will be measured must be specified.
Alternatively, one or more selections of ambient noise can be used as
reference (see ‘noise.ref’ argument). This can potentially provide a
more accurate representation of ambient noise. When margins overlap with
another acoustic signal nearby, SNR will be inaccurate, so margin length
should be carefully considered. Any SNR less than or equal to one
suggests background noise is equal to or overpowering the acoustic
signal. SNR can be measured as follows:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run signal to noise ratio</span></span>
<span><span class="va">sa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/signal_to_noise_ratio.html">signal_to_noise_ratio</a></span><span class="op">(</span><span class="va">test_sounds_est</span>, pb <span class="op">=</span> <span class="cn">FALSE</span>, noise.ref <span class="op">=</span> <span class="st">"custom"</span>, mar <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p>The output is also similar to the other functions:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span><span class="va">sa</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
signal.to.noise.ratio
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-4.0232758
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
10.3757926
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
15.0140795
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-0.2872684
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
3.5736359
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
16.8352930
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
18.6300887
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
3.3664871
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
17.2034424
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
23.8308618
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
25.2040533
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
12.9396862
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-38.6680143
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
-23.6573391
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
-7.3194710
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-37.8714516
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-7.5582795
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
2.6671788
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
6.2497775
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-12.4579158
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Note that this function does not compare sounds to references, so no
reference column is added.</p>
</div>
<div class="section level4">
<h4 id="tail-to-signal-ratio">Tail-to-signal ratio<a class="anchor" aria-label="anchor" href="#tail-to-signal-ratio"></a>
</h4>
<p>Tail-to-signal ratio (TSR) is used to quantify reverberations.
Specifically TSR measures the ratio of energy in the reverberation tail
(the time segment right after the sound) to energy in the sound. A
general margin in which reverberation tail will be measured must be
specified. The function will measure TSR within the supplied frequency
range (e.g. bandpass) of the reference sound (‘bottom.freq’ and
‘top.freq’ columns in ‘X’). Two methods for calculating reverberations
are provided (see ‘type’ argument). <code>Type 1</code> is based on the
original description of TSR in Dabelsteen et al. (1993) while
<code>type 2</code> is better referred to as “tail-to-noise ratio”,
given that it compares the amplitude of tails to those of ambient noise.
For both types higher values represent more reverberations. TSR can be
measured as follows:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run tail to signal ratio</span></span>
<span><span class="va">tsr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tail_to_signal_ratio.html">tail_to_signal_ratio</a></span><span class="op">(</span><span class="va">test_sounds_est</span>, type <span class="op">=</span> <span class="fl">1</span>, mar <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<p>Again, the output is similar to other functions:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span></span>
<span><span class="va">tsr</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
tail.to.signal.ratio
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-21.246920
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
-23.773865
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
-17.601030
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-26.099051
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-27.069954
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
-24.588476
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
-13.619545
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-25.610614
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
-37.578924
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
-31.022133
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
-25.749053
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
-26.171361
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-4.364514
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
-7.546368
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
-6.897373
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-2.503217
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;">
-23.934725
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;">
-19.867073
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;">
-9.288438
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;">
-16.857756
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
</div>
<div class="section level4">
<h4 id="spectrogram-distortion">Spectrogram distortion<a class="anchor" aria-label="anchor" href="#spectrogram-distortion"></a>
</h4>
<p>Finally, the function <code><a href="../reference/spcc.html">spcc()</a></code> measures spectrogram
cross-correlation as a metric of sound distortion of sounds. Values
close to 1 means very similar spectrograms (i.e. little sound
distortion). The function is a wrapper on <a href="https://cran.r-project.org/package=warbleR" class="external-link">warbleR</a>’s
<code><a href="https://marce10.github.io/warbleR/reference/cross_correlation.html" class="external-link">cross_correlation()</a></code>. It can be run as follows:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run spcc</span></span>
<span><span class="va">spd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spcc.html">spcc</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span>, wl <span class="op">=</span> <span class="fl">512</span><span class="op">)</span></span></code></pre></div>
<p>And again, the output is similar to other functions:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span><span class="va">spd</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
selec
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
start
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
end
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
bottom.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
top.freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.id
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
transect
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
distance
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
cross.correlation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9050119
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9031194
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8836689
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9275559
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9229654
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9176390
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8572338
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9370945
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.7437507
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.6789203
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.6830069
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_closed.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
closed
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.6423207
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.050000
</td>
<td style="text-align:center;">
0.200000
</td>
<td style="text-align:center;">
1.333333
</td>
<td style="text-align:center;">
2.666667
</td>
<td style="text-align:center;">
ambient
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.300000
</td>
<td style="text-align:center;">
1.500023
</td>
<td style="text-align:center;">
7.875000
</td>
<td style="text-align:center;">
8.805000
</td>
<td style="text-align:center;">
freq:9
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-2
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.9106767
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1.550023
</td>
<td style="text-align:center;">
1.750045
</td>
<td style="text-align:center;">
3.208000
</td>
<td style="text-align:center;">
4.069000
</td>
<td style="text-align:center;">
freq:4
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-3
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8641667
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
1.800045
</td>
<td style="text-align:center;">
2.000068
</td>
<td style="text-align:center;">
0.422000
</td>
<td style="text-align:center;">
1.223000
</td>
<td style="text-align:center;">
freq:1
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-4
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.7818865
</td>
</tr>
<tr>
<td style="text-align:center;">
30m_open.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
2.050068
</td>
<td style="text-align:center;">
2.250091
</td>
<td style="text-align:center;">
6.905000
</td>
<td style="text-align:center;">
7.917000
</td>
<td style="text-align:center;">
freq:7
</td>
<td style="text-align:center;">
open
</td>
<td style="text-align:center;">
30
</td>
<td style="text-align:center;">
1m_open.wav-5
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
0.8985404
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
</div>
</div>
<div class="section level3">
<h3 id="other-measurements">Other measurements<a class="anchor" aria-label="anchor" href="#other-measurements"></a>
</h3>
<div class="section level4">
<h4 id="noise-profiles">Noise profiles<a class="anchor" aria-label="anchor" href="#noise-profiles"></a>
</h4>
<p>The function <code><a href="../reference/noise_profile.html">noise_profile()</a></code> allows to estimate the
frequency spectrum of ambient noise. This can be done on extended
selection tables (using the segments containing no sound) or over entire
sound files in the working directory (or path supplied). The function
uses internally to calculate frequency spectra. The following code
measures the ambient noise profile for the recordings at distance &gt;=
5m on the example extended selection table:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run noise profile</span></span>
<span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/noise_profile.html">noise_profile</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span><span class="op">[</span><span class="va">test_sounds_est</span><span class="op">$</span><span class="va">distance</span> <span class="op">&gt;</span> <span class="fl">5</span>, <span class="op">]</span>, mar <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<p>The output is a data frame with amplitude values for the frequency
bins for each wave object in the extended selection table:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print output</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">np</span>, <span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
sound.files
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
freq
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
amp
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1.002273
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-1.196456
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
2.004545
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-6.852595
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
3.006818
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-15.990795
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
4.009091
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-22.279091
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
5.011364
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-26.815598
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
6.013636
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-30.629347
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
7.015909
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-31.714171
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
8.018182
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-32.280959
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
9.020454
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-34.252180
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_closed.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10.022727
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-38.539584
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
1.002273
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-1.805731
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
2.004545
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-7.122749
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
3.006818
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-14.555992
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
4.009091
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-21.549840
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
5.011364
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-27.037548
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
6.013636
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-31.469219
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
7.015909
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-32.099066
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
8.018182
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-32.407401
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
9.020454
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-34.641385
</td>
</tr>
<tr>
<td style="text-align:center;">
10m_open.wav
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
10.022727
</td>
<td style="text-align:center;font-weight: bold;background-color: #ccebff !important;">
-39.110357
</td>
</tr>
</tbody>
</table>
</div>
<p>This can be graphically represented as follows:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">np</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">amp</span>, x <span class="op">=</span> <span class="va">freq</span>, col <span class="op">=</span> <span class="va">sound.files</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1.4</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>begin <span class="op">=</span> <span class="fl">0.2</span>, end <span class="op">=</span> <span class="fl">0.8</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Frequency (kHz)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Amplitude (dBA)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantify_degradation_files/figure-html/unnamed-chunk-45-1.png" width="700" style="display: block; margin: auto;"></p>
<p>The output data is actually an average of several frequency spectra
for each sound file. We can obtain the original spectra by setting the
argument <code>averaged = FALSE</code>:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/noise_profile.html">noise_profile</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span><span class="op">[</span><span class="va">test_sounds_est</span><span class="op">$</span><span class="va">distance</span> <span class="op">&gt;</span> <span class="fl">5</span>, <span class="op">]</span>, mar <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    averaged <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># make a column containing sound file and selection</span></span>
<span><span class="va">np</span><span class="op">$</span><span class="va">sf.sl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">np</span><span class="op">$</span><span class="va">sound.files</span>, <span class="va">np</span><span class="op">$</span><span class="va">selec</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">np</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">amp</span>, x <span class="op">=</span> <span class="va">freq</span>, col <span class="op">=</span> <span class="va">sound.files</span>, group <span class="op">=</span> <span class="va">sf.sl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1.4</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>begin <span class="op">=</span> <span class="fl">0.2</span>, end <span class="op">=</span> <span class="fl">0.8</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Frequency (kHz)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Amplitude (dBA)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantify_degradation_files/figure-html/unnamed-chunk-46-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Note that we can limit the frequency range by using a bandpass filter
(‘bp’ argument). In addition, the argument ‘hop.size’, which control the
size of the time windows, affects the precision in the frequency domain.
We can get a better precision by increasing ‘hop.size’ (or ‘wl’):</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/noise_profile.html">noise_profile</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">test_sounds_est</span><span class="op">[</span><span class="va">test_sounds_est</span><span class="op">$</span><span class="va">distance</span> <span class="op">&gt;</span> <span class="fl">5</span>, <span class="op">]</span>, mar <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>    bp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, averaged <span class="op">=</span> <span class="cn">FALSE</span>, hop.size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># make a column containing sound file and selection</span></span>
<span><span class="va">np</span><span class="op">$</span><span class="va">sf.sl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">np</span><span class="op">$</span><span class="va">sound.files</span>, <span class="va">np</span><span class="op">$</span><span class="va">selec</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">np</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">amp</span>, x <span class="op">=</span> <span class="va">freq</span>, col <span class="op">=</span> <span class="va">sound.files</span>, group <span class="op">=</span> <span class="va">sf.sl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1.4</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>begin <span class="op">=</span> <span class="fl">0.2</span>, end <span class="op">=</span> <span class="fl">0.8</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Frequency (kHz)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Amplitude (dBA)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantify_degradation_files/figure-html/unnamed-chunk-47-1.png" width="700" style="display: block; margin: auto;"></p>
<p>The function can estimate noise profiles for entire sound files, by
supplying a list of the files (argument ‘files’, and not supplying ‘X’)
or by simply running it without supplying ‘X’ or ‘files’. In this case
it will run over all sound files in the working directory (or ‘path’
supplied).</p>
<hr>
<p>Please report any bugs <a href="https://github.com/maRce10/baRulho/issues" class="external-link">here</a>.</p>
<p>The package <a href="https://marce10.github.io/baRulho/">baRulho</a>
should be cited as follows:</p>
<p>Araya-Salas, M. (2020), <em>baRulho: quantifying degradation of
(animal) acoustic signals in R</em>. R package version 1.0.0.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Araya-Salas, M. (2017). <em>Rraven: connecting R and Raven
bioacoustic software</em>. R package version 1.0.0.</p></li>
<li><p>Araya-Salas, M. (2020), <em>baRulho: quantifying degradation of
(animal) acoustic signals in R</em>. R package version 1.0.0</p></li>
<li><p>Araya-Salas M, Smith-Vidaurre G. (2017) <em>warbleR: An R package
to streamline analysis of animal acoustic signals</em>. Methods Ecol
Evol 8:184–191.</p></li>
<li><p>Dabelsteen, T., Larsen, O. N., &amp; Pedersen, S. B. (1993).
<em>Habitat-induced degradation of sound signals: Quantifying the
effects of communication sounds and bird location on blur ratio, excess
attenuation, and signal-to-noise ratio in blackbird song</em>. The
Journal of the Acoustical Society of America, 93(4), 2206.</p></li>
<li><p>Marten, K., &amp; Marler, P. (1977). <em>Sound transmission and
its significance for animal vocalization. Behavioral</em> Ecology and
Sociobiology, 2(3), 271-290.</p></li>
<li><p>Morton, E. S. (1975). <em>Ecological sources of selection on
avian sounds</em>. The American Naturalist, 109(965), 17-34.</p></li>
<li><p>Tobias, J. A., Aben, J., Brumfield, R. T., Derryberry, E. P.,
Halfwerk, W., Slabbekoorn, H., &amp; Seddon, N. (2010). <em>Song
divergence by sensory drive in Amazonian birds</em>. Evolution, 64(10),
2820-2839.</p></li>
</ol>
<hr>
<p><font size="4">Session information</font></p>
<pre><code><span><span class="co">## R version 4.3.2 (2023-10-31)</span></span>
<span><span class="co">## Platform: x86_64-apple-darwin20 (64-bit)</span></span>
<span><span class="co">## Running under: macOS Monterey 12.6.9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: internal</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">##  [1] ggplot2_3.4.4      baRulho_2.1.0      ohun_1.0.1         warbleR_1.1.29    </span></span>
<span><span class="co">##  [5] NatureSounds_1.0.4 seewave_2.2.3      tuneR_1.4.5        viridis_0.6.4     </span></span>
<span><span class="co">##  [9] viridisLite_0.4.2  kableExtra_1.3.4   knitr_1.45        </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] farver_2.1.1       bitops_1.0-7       fastmap_1.1.1      RCurl_1.98-1.13   </span></span>
<span><span class="co">##  [5] digest_0.6.33      lifecycle_1.0.4    sf_1.0-14          Deriv_4.1.3       </span></span>
<span><span class="co">##  [9] magrittr_2.0.3     compiler_4.3.2     rlang_1.1.2        sass_0.4.7        </span></span>
<span><span class="co">## [13] tools_4.3.2        igraph_1.5.1       utf8_1.2.4         yaml_2.3.7        </span></span>
<span><span class="co">## [17] labeling_0.4.3     classInt_0.4-10    xml2_1.3.5         KernSmooth_2.23-22</span></span>
<span><span class="co">## [21] withr_2.5.2        purrr_1.0.2        desc_1.4.2         grid_4.3.2        </span></span>
<span><span class="co">## [25] fansi_1.0.5        e1071_1.7-13       colorspace_2.1-0   scales_1.2.1      </span></span>
<span><span class="co">## [29] MASS_7.3-60        signal_0.7-7       cli_3.6.1          rmarkdown_2.25    </span></span>
<span><span class="co">## [33] ragg_1.2.6         rstudioapi_0.15.0  httr_1.4.7         rjson_0.2.21      </span></span>
<span><span class="co">## [37] DBI_1.1.3          pbapply_1.7-2      cachem_1.0.8       proxy_0.4-27      </span></span>
<span><span class="co">## [41] stringr_1.5.1      fftw_1.0-7         rvest_1.0.3        parallel_4.3.2    </span></span>
<span><span class="co">## [45] formatR_1.14       Sim.DiffProc_4.8   vctrs_0.6.4        webshot_0.5.5     </span></span>
<span><span class="co">## [49] jsonlite_1.8.7     systemfonts_1.0.5  testthat_3.2.0     jquerylib_0.1.4   </span></span>
<span><span class="co">## [53] units_0.8-4        glue_1.6.2         pkgdown_2.0.7      dtw_1.23-1        </span></span>
<span><span class="co">## [57] stringi_1.8.2      gtable_0.3.4       munsell_0.5.0      tibble_3.2.1      </span></span>
<span><span class="co">## [61] pillar_1.9.0       htmltools_0.5.7    brio_1.1.3         R6_2.5.1          </span></span>
<span><span class="co">## [65] textshaping_0.3.7  rprojroot_2.0.4    evaluate_0.23      highr_0.10        </span></span>
<span><span class="co">## [69] png_0.1-8          backports_1.4.1    memoise_2.0.1      bslib_0.6.0       </span></span>
<span><span class="co">## [73] class_7.3-22       Rcpp_1.0.11        svglite_2.1.2      gridExtra_2.3     </span></span>
<span><span class="co">## [77] checkmate_2.3.0    xfun_0.41          fs_1.6.3           pkgconfig_2.0.3</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
