attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB * att_atm_coef, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))  /
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB / 339478, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB / 339478, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
psat
f
r
r0
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
psat
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
psat
pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151)
To1
t
(To1/t)^1.261 + 4.6151
To1/t
t=20
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
psat
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frO
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB / 339478, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB)/(20*log10(exp(1)))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
exp(0.03771983)
attenuation(f = 5000, r = 10, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.02)
attenuation(f = 5000, r = 11, r0 = 1, t = 40, rh = 60, pa=101325, a0=0.02)
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z = 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y = (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB = 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y)
att_atm_coef <- exp(att_atm_dB/(2*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
# attmosferic attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, att_atm_coef = att_atm_coef)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
##
# Aatm_coef = _atmospheric_att_coef_dB (f, t, rh, pa)/(20*log10(exp(1)))
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
## Habitat attenuation
Ahab_coeff_dB <_ a0*f/1000
## Habitat attenuation
Ahab_coeff_dB <- a0*f/1000
Ahab_coeff = Ahab_coef_dB /20*log10(exp(1))
Ahab_coeff = Ahab_coeff_dB /20*log10(exp(1))
Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1))
Ahab_factor = exp(-Ahab_coeff)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- a0*f/1000
Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1))
Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff = Ahab_coeff, Ahab_factor = Ahab_factor, Ahab_coeff_dB = Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.02)
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.1)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- a0*f/1000
Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1)) * 10 # '*10' added to match SM
Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff = Ahab_coeff, Ahab_factor = Ahab_factor, Ahab_coeff_dB = Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.1)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- a0*f/1000
Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1)) * 10 # '*10' added to match SM
Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff_dB = Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.1)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- a0*f/1000
Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1)) * 10 # '*10' added to match SM
Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff_dB = Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 30, r0 = 1, t = 20, rh = 60, pa=101325, a0=0.1)
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.1)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- (a0*f/1000) * 10 # '*10' added to match SM
# Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1))
# Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff_dB = Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.1)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- (a0*f/1000) * 10 # '*10' added to match SM
# Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1))
# Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff_dB = Ahab_coeff_dB, Asum_dB =  att_geo_dB + att_atm_dB + Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.1)
attenuation(f = 10000, r = 30, r0 = 2, t = 25, a0 = 0.05)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
att_atm_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
att_atm_coef <- exp(att_atm_dB/(20*log10(exp(1))))
## Habitat attenuation
Ahab_coeff_dB <- (a0*f/1000) * 10 # '*10' added to match SM
# Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1))
# Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff_dB = Ahab_coeff_dB, Asum_dB =  att_geo_dB + att_atm_dB + Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.1)
attenuation(f = 10000, r = 30, r0 = 1, t = 25, a0 = 0.05)
attenuation <- function(f, r, r0, t=20, rh=60, pa=101325, a0=0.02){
## Geometric attenuation
# attenation factor
att_geo_fac <- r0/r
att_geo_dB <- -20*log10(att_geo_fac)
## Atmospheric attenuation ###
pr = 101.325e3 # reference ambient atmospheric pressure: 101.325 kPa
To1 = 273.16 # triple-point isotherm temp: 273.16 K
To = 293.15 #  reference temperature in K: 293.15 K (20°C)
t = t+273.15 # celcius to farenheit
psat = pr*10^(-6.8346 * (To1/t)^1.261 + 4.6151) #saturation vapor pressure equals
h = rh * (psat / pa) # molar concentration of water vapor, as a percentage
frO = (pa / pr) * (24 + 4.04e4 * h * ((0.02 + h) / (0.391 + h))) # oxygen relaxation frequency
frN = (pa / pr) * sqrt(t / To) * (9 + 280 * h * exp(-4.170*((t/To)^(-1/3) -1))) # nitrogen relaxation frequency
z <- 0.1068 * exp (-3352/t) / (frN+f^2 /frN)
y <- (t/To)^(-5/2) * (0.01275 * exp(-2239.1/t) * 1/(frO+f^2/frO) + z)
Aatm_coef_dB <- 8.686 * f^2 * ((1.84e-11 * 1/(pa/pr) * sqrt(t/To)) + y) * 10 # '*10' added to match SM
Aatm_coef <- Aatm_coef_dB/(20*log10(exp(1))))
Aatm_factor <- exp(-Aatm_coef)
## Habitat attenuation
Ahab_coeff_dB <- (a0*f/1000) * 10 # '*10' added to match SM
# Ahab_coeff <- Ahab_coeff_dB /20*log10(exp(1))
# Ahab_factor = exp(-Ahab_coeff)
result <- c(att_geo_dB = att_geo_dB, att_atm_dB = att_atm_dB, Ahab_coeff_dB = Ahab_coeff_dB, Asum_dB =  att_geo_dB + att_atm_dB + Ahab_coeff_dB)
return(result)
}
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.1)
attenuation(f = 10000, r = 30, r0 = 1, t = 25, a0 = 0.05)
attenuation(f = 5000, r = 11, r0 = 1, t = 30, rh = 60, pa=101325, a0=0.1)
attenuation(f = 5000, r = 11, r0 = 2, t = 30, rh = 60, pa=101325, a0=0.1)
rh
library(seewave)
moredB(10, 10)
moredB(10)
moredB(10, 20)
moredB(c(10, 12), level = "SPL")
moredB(c(10, -12), level = "SPL")
moredB(c(10, 12), level = "IL")
moredB(c(10, 12), level = "SPL")
moredB()
