<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create synthetic sounds — synth_sounds • baRulho</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Create synthetic sounds — synth_sounds" />
<meta property="og:description" content="synth_sounds create synthetic sounds" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baRulho</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/baRulho.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/baRulho/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create synthetic sounds</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/baRulho/blob/master/R/synth_sounds.R'><code>R/synth_sounds.R</code></a></small>
    <div class="hidden name"><code>synth_sounds.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>synth_sounds</code> create synthetic sounds</p>
    </div>

    <pre class="usage"><span class='fu'>synth_sounds</span><span class='op'>(</span>steps <span class='op'>=</span> <span class='fl'>10</span>, am.amps <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>, <span class='fl'>3</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span>, length.out <span class='op'>=</span> <span class='va'>steps</span><span class='op'>)</span>,
replicates <span class='op'>=</span> <span class='fl'>1</span>, <span class='va'>frequencies</span>, <span class='va'>durations</span>, nharmonics <span class='op'>=</span> <span class='fl'>1</span>, fm <span class='op'>=</span> <span class='cn'>FALSE</span>, am <span class='op'>=</span> <span class='cn'>FALSE</span>, 
mar <span class='op'>=</span> <span class='fl'>0.05</span>, seed <span class='op'>=</span> <span class='cn'>NULL</span>, sig2 <span class='op'>=</span> <span class='fl'>0.3</span>, shuffle <span class='op'>=</span> <span class='cn'>FALSE</span>,
hrm.freqs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>2</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span>, <span class='fl'>2</span><span class='op'>/</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>4</span>, <span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>5</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>6</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>7</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>8</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>9</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>10</span><span class='op'>)</span>,
sampling.rate <span class='op'>=</span> <span class='fl'>44.1</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>steps</th>
      <td><p>Numeric vector of length 1. Controls the number of frequency steps in which each sound is split. Default is 10.</p></td>
    </tr>
    <tr>
      <th>am.amps</th>
      <td><p>Numeric vector with the relative amplitude for each step (see 'step' argument) to simulate amplitude modulation (only applied to the fundamental frequency). Should have the same length as the number of steps. Default is 1 (no amplitude modulation). The default value (<code><a href='https://rdrr.io/r/base/rep.html'>rep(c(1:4, 3:2), length.out = steps)</a></code>) has to amplitude peaks.</p></td>
    </tr>
    <tr>
      <th>replicates</th>
      <td><p>Numeric vector of length 1 indicating the number of replicates for each treatment combination. Default is 1. Useful for measuring variation in transmission parameters.</p></td>
    </tr>
    <tr>
      <th>frequencies</th>
      <td><p>Numeric vector with the different frequencies (in seconds) to synthesize.</p></td>
    </tr>
    <tr>
      <th>durations</th>
      <td><p>Numeric vector with the different durations (in seconds) to synthesize.</p></td>
    </tr>
    <tr>
      <th>nharmonics</th>
      <td><p>Numeric vector of length 1 specifying the number of harmonics to simulate. 1 indicates that only the fundamental
frequency harmonic will be simulated.</p></td>
    </tr>
    <tr>
      <th>fm</th>
      <td><p>Logical to control if frequency modulated sounds are synthesize.</p></td>
    </tr>
    <tr>
      <th>am</th>
      <td><p>Logical to control if amplitude modulated sounds are synthesize.</p></td>
    </tr>
    <tr>
      <th>mar</th>
      <td><p>Numeric vector with the duration of margins of silence around sounds in seconds. Default is <code>0.05</code>.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>Numeric vector of length 1. This allows users to get the same results in different runs (using <code><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></code> internally). Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>sig2</th>
      <td><p>Numeric vector of length 1 defining the sigma value of the brownian motion model (used for simulating frequency modulation). Default is 0.3.</p></td>
    </tr>
    <tr>
      <th>shuffle</th>
      <td><p>Logical to control if the position of sounds is randomized. Useful to avoid having sounds from the same treatments next to each other. Defaul is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>hrm.freqs</th>
      <td><p>Numeric vector with the frequencies of the harmonics relative to the fundamental frequency. The default values are c(1/2, 1/3, 2/3, 1/4, 3/4, 1/5, 1/6, 1/7, 1/8, 1/9, 1/10).</p></td>
    </tr>
    <tr>
      <th>sampling.rate</th>
      <td><p>Numeric vector of length 1. Sets the sampling frequency of the wave object (in kHz). Default is 44.1.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A wave object containing the simulated songs. If 'selec.table' is <code>TRUE</code> the function saves the wave object as a '.wav' sound file in the working directory (or 'path') and returns a list including 1) a selection table with the start/end time, and bottom/top frequency of the sub-units and 2) the wave object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This functions uses a geometric (<code>diff.fun == "GBM"</code>) or Brownian bridge (<code>diff.fun == "BB"</code>) motion stochastic process to simulate modulation in animal vocalizations (i.e. frequency traces across time).
The function can also simulate pure tones (<code>diff.fun == "pure.tone"</code>, 'sig2' is ignored).
Several song subunits (e.g. elements) can be simulated as well as the corresponding harmonics.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas, M., &amp; Smith-Vidaurre, G. (2017). warbleR: An R package to streamline analysis of animal acoustic signals. Methods in Ecology and Evolution, 8(2), 184-191.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>query_xc</code> for for downloading bird vocalizations from an online repository.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Marcelo Araya-Salas (<a href='mailto:marcelo.araya@ucr.ac.cr'>marcelo.araya@ucr.ac.cr</a>)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
 <span class='co'># simulate a song with 3 elements and no harmonics</span>
 <span class='va'>sm_sng</span> <span class='op'>&lt;-</span> <span class='fu'>synth_sounds</span><span class='op'>(</span>n <span class='op'>=</span> <span class='fl'>3</span>, harms <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

 <span class='co'># plot spectro</span>
 <span class='fu'>seewave</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></span><span class='op'>(</span><span class='va'>sm_sng</span><span class='op'>)</span>

 <span class='co'># simulate a song with 5 elements and 2 extra harmonics</span>
<span class='va'>sm_sng2</span> <span class='op'>&lt;-</span> <span class='fu'>synth_sounds</span><span class='op'>(</span>n <span class='op'>=</span> <span class='fl'>5</span>, harms <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>

 <span class='co'># plot spectrogram</span>
 <span class='fu'>seewave</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></span><span class='op'>(</span><span class='va'>sm_sng2</span><span class='op'>)</span>

<span class='co'># six pure tones with frequency ranging form 4 to 6 and returning selection table</span>
<span class='va'>sm_sng</span> <span class='op'>&lt;-</span> <span class='fu'>synth_sounds</span><span class='op'>(</span>n <span class='op'>=</span> <span class='fl'>6</span>, harms <span class='op'>=</span> <span class='fl'>1</span>, seed <span class='op'>=</span> <span class='fl'>1</span>, diff.fun <span class='op'>=</span> <span class='st'>"pure.tone"</span>,
                  freqs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>6</span>, length.out <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>, selec.table <span class='op'>=</span> <span class='cn'>TRUE</span>,
                  path <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># plot spectro</span>
<span class='fu'>seewave</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></span><span class='op'>(</span><span class='va'>sm_sng</span><span class='op'>$</span><span class='va'>wave</span>, flim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>8</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># selection table</span>
<span class='va'>sm_sng</span><span class='op'>$</span><span class='va'>selec.table</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


